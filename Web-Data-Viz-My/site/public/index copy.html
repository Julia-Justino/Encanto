<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="https://images.emojiterra.com/google/android-11/512px/1f308.png" />
    <link rel="stylesheet" href="./css/styleEncanto.css">
    <script src="./js/funcoes.js"></script>
    <title>Encanto</title>
</head>

<body>
    <!--Inicio do navbar-->
    <div class="header">
        <div class="container">

            <ul class="navbar">
                <li><a href="#blog">Blog</a></li>
                <li><a href="#conheca">Conheça</a></li>
                <li><a href="#destaque">Destaques</a></li>
                <li><a href="#pesquisa">Pesquisa</a></li>
                <li><a href="#contato">Contato</a></li>
            </ul>
        </div>
        <!--Final do navbar-->
        <hr>
        <!--Inicio do banner-->
        <div class="banner">
            <div class="container">
                <h1><img src="./assets/img/logoSimples-removebg-preview.png"
                        alt="Está escrito na imagem: Encanto, a arte de contar histórias. "></h1>
            </div>
        </div>
        <!--Final do banner-->
    </div>
    <!-- Final do header-->
    <!--Inicio do blog-->
    <section class="blogEncanto">
        <div class="blog" id="blog">
            <div class="container">

                <div class="tituloBlog">
                    <h1><img src="./assets/img/tituloBlog.jpg" alt=""></h1>
                </div>
                <div class="textoBlog">
                    <div class="subTituloBlog">
                        <h2>História</h2>
                    </div>

                    <div class="texto">
                        <p>
                            <spam class="paragrafoEspaco">Este </spam>
                            blog surgiu como um projeto que foi criado para ser apresentado na faculdade, com o
                            <spam class="marcaBlog">objetivo de desafiar</spam> a mim mesma a <spam class="marcaBlog">
                                expressar </spam> meus <spam class="marcaBlog">gostos e personalidade</spam> por meio
                            dele.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!--Final do blog-->
        <!--Crição do blog-->
        <div class="criacaoBlog">
            <div class="container">
                <div class="subtitulo_criacaoBlog">
                    <h2>Criação do blog</h2>
                </div>
                <div class="texto_criacaoBlog">
                    <span class="paragrafoEspaco">Quando</span>
                    comecei a buscar um tema para o meu blog, fui pesquisar no Google e a
                    <spam class="marcaBlog">amor em comum</spam> por diferentes <spam class="marcaBlog">formas de contar
                        histórias</spam>, incluindo cinema, livros, poemas, peças teatrais,
                    músicas, podcasts e séries.
                </div>
                <hr>
                <div class="texto_criacaoBlog" id="parte2_criacaoBlog">
                    <span class="paragrafoEspaco"> Pensando </span>
                    sobre minhas paixões, percebi que cada uma delas conta uma história única, com seu próprio estilo e
                    perspectiva. <spam class="marcaBlog">Decidi então criar um blog</spam> para analisar essas obras e
                    <spam class="marcaBlog">refletir sobre o impacto</spam> que elas
                    tiveram na minha vida pessoal.
                </div>
            </div>
        </div>
    </section>
    <!--Final criação blog-->
    <!--Inicio do conheça - me -->
    <section class="conheca">
        <div class="conhecaMe" id="conheca">
            <div id="container">
                <div class="titulo">
                    <h1><img src="./assets/img/conheca.png" alt=""></h1>
                    <div class="textoConheca">
                        <p>Além de meu amor por <spam class="marcaConheca">tecnologia</spam>, também é uma grande amante
                            de histórias, seja na forma de
                            livros,
                            filmes ou jogos. Essa paixão pela narrativa me inspira a <spam class="marcaConheca">explorar
                            </spam> novas formas de contar
                            histórias
                            através da tecnologia, utilizando meu conhecimento em <spam class="marcaConheca">programação
                                para criar</spam>
                            <spam class="marcaConheca">experiências únicas e envolventes</spam>.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!--Final do conheça - me -->
        <!--Inicio do conheça -me 01-->
        <div class="conhecaMe_arte">
            <div class="central">

                <div class="titulo">
                    <h2>Como essa arte me impacta</h2>
                </div>
                <div class="textoArte">
                    <p>Desde que me entendo por gente, sou encantada por histórias. Seja pelos grandes filmes de
                        Hollywood ou pelos contos de fadas na hora de dormir, sempre fui atraída pelo poder que as
                        narrativas têm de nos transportar para outros mundos e nos fazer sentir uma ampla gama de
                        emoções.</p>
                </div>
            </div>
        </div>
        <!--Final do conheça -me 01-->
        <!--Inicio do conheça -me 02-->
        <div class="conhecaMe_arte02">
            <div class="central">

                <div class="titulo">
                    <h2>Meus planos</h2>
                </div>
                <div class="textoArte">
                    <p>Através desse blog, pretendo compartilhar minhas opiniões e pontos de vista sobre obras que me
                        impactaram profundamente, e também explorar temas relevantes relacionados à arte de contar
                        histórias e seu papel na sociedade atual.</p>
                </div>
            </div>
        </div>
        <!--Final do conheça - me 02-->
    </section>
    <!--Inicio destaques-->
    <div class="destaque" id="destaque">
        <div id="central">
            <div class="titulo">
                <h1><img src="./assets/img/destaque.png" alt=""></h1>
                <div class="textoConheca">
                    <div class="card">
                        <div class="conteudoCard">
                            <img src="https://images.pexels.com/photos/2465877/pexels-photo-2465877.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
                                alt="">
                            <h1>Sobre livros</h1>
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus quae dolorum
                                consectetur similique!</p>
                            <a href="./post.html#livros"> <button>Saiba mais</button></a>
                        </div>
                    </div>
                    <div class="card" id="cardMeio">
                        <div class="conteudoCard">
                            <img src="https://images.pexels.com/photos/14793954/pexels-photo-14793954.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
                                alt="">
                            <h1>Sobre músicas</h1>
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus quae dolorum
                                consectetur similique!</p>
                            <a href="./post.html#musicas"> <button>Saiba mais</button></a>
                        </div>
                    </div>
                    <div class="card">
                        <div class="conteudoCard">
                            <img src="https://images.pexels.com/photos/436413/pexels-photo-436413.jpeg" alt="">
                            <h1>Sobre filmes</h1>
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus quae dolorum
                                consectetur similique!</p>
                            <a href="./post.html#filmes"> <button>Saiba mais</button></a>
                        </div>
                    </div>
                </div>
                <p class="p_card"><a href="./post.html">Veja o site completo</a></p>
            </div>
        </div>
    </div>
    <!--Final destaques-->
    <!--Inicio da pesquisa-->
    <div class="pesquisa" id="pesquisa">
        <div id="container">
            <div class="titulo">
                <h1><img src="./assets/img/pesquisa.png" alt=""></h1>
                <div class="textoConheca">
                    <p>A pesquisa é uma ferramenta valiosa para entender a audiência e ajustar o conteúdo de um blog
                        para melhor atendê-la. Ao estudar o público atual de um blog, é possível descobrir quais são os
                        interesses, necessidades e expectativas dos leitores, o que permite desenvolver um conteúdo mais
                        relevante e atrativo.</p>
                    <a href="./pesquisa.html"> <button>Faça parte</button></a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!--Final da pesquisa-->
    <!--Inicio do contato-->
    <div class="contato" id="contato">
        <div class="titulo">
            <h1><img src="./assets/img/contato.png" alt=""></h1>
        </div>
        <div class="formContato" id="geral">
            <div class="alerta_erro">
                <div class="card_erro" id="cardErro">
                    <span id="mensagem_erro"></span>
                </div>
                <h2>Formulário de contato</h2>
                <div class="form">
                    <p id="nome">Seu nome:</p>
                    <input type="text" id="inp_nome" class="inpContato" placeholder="Ex: Julia Justino">
                    <p>Email:</p>
                    <input type="text" id="inp_email" class="inpContato" placeholder="EX. seeuemail@email.com">
                    <p>Assunto</p>
                    <input type="text" id="inp_assunto" class="inpContato"
                        placeholder="EX. Tenho interesse em entrar em contato">
                    <br>
                    <button onclick="cadastrar(); recuperarIdUsuario()">Enviar</button>
                    <div id="div_aguardar" class="loading-div">

                    </div>
                    <div id="div_erros_login"></div>
                </div>
                <img src="../img/detalheNuvem.png" alt="" class="detalheNuvem">
            </div>
        </div>
        <!--Final do contato-->
</body>

</html>
<script>
    var usuCont = 0;
    var nomeVar;
    var emailVar;
    var assuntoVar;
    function cadastrar() {
        aguardar();

        //Recupere o valor da nova input pelo nome do id
        // Agora vá para o método fetch logo abaixo

         nomeVar = inp_nome.value;
         emailVar = inp_email.value;
         assuntoVar = inp_assunto.value;  
         
        alert(emailVar)
        /* var nomeVar = document.getElementById('inp_nome').value;
        var emailVar = document.getElementById('inp_email').value;
        var assuntoVar = document.getElementById('inp_assunto').value;
     */

        if (nomeVar == "") {
            alert("(Digite seu nome!)");
            inp_nome.value = "";
            cardErro.style.display = "block"
            mensagem_erro.innerHTML = "(Mensagem de erro para todos os campos em branco)";
            return false;

        } else if (emailVar == "") {
            alert("(Digite seu email!)");
            inp_email.value = "";
            return false;
        }
        else if (emailVar.indexOf('@') == -1) {
            alert("(Digite um email válido!)");
            inp_email.value = "";
            return false;
        }
        else if (assuntoVar == "") {
            alert("(Digite o assunto!)");
            inp_assunto.value = "";
            return false;
        }
        console.log("Final das validações")



        // Enviando o valor da nova input
        fetch("/contato/cadastrar", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                nomeServer: nomeVar,
                emailServer: emailVar
            })
        }).then(function (resposta) {

            console.log("quero ver essa resposta: ", resposta);
            console.log(`Quero saber qual o nome desse usuario ${nomeVar}`)
            if (resposta.ok) {
                cardErro.style.display = "block";
                geral.innerHTML = `
            <div id="resul">
            <h1>Obrigado!</h1>
            <p><b>Seu email já foi enviado</b>.</p>
            </div>`;
                mensagem_erro.innerHTML = "Cadastro realizado com sucesso! Redirecionando para tela de Login...";



            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
                alert(emailVar)
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
        });

        return false;
    }



    function recuperarIdUsuario(nome) {
        aguardar();
    

        //Recupere o valor da nova input pelo nome do id
        // Agora vá para o método fetch logo abaixo

    
        console.log("Antes de entrar no GET, fé que vai");
        // Enviando o valor da nova input
        fetch(`/contato/recuperarIdUsuario/:${nome}`, {
            method: "GET",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                nomeServer: nomeVar,
            })
        }).then(function (resposta) {

            console.log("quero ver essa resposta: ", resposta);
            console.log(`Quero saber qual o nome desse usuario ${nome}`)
            if (resposta.ok) {
                console.log(`Sim deu certo, fique feliz!`)

            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
                console.log("Se fudeu, não foi")
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
        });

        return false;
    }




    function sumirMensagem() {
        cardErro.style.display = "none"
    }



  
    
</script>

<!--   fetch(`/contato/recuperarIdUsuario/${nomeServer}`, {
                    method: "GET",
                    headers: {
                        "Content-Type": "application/json"
                    },
                })
                    .then((respostaUsuario) => {
                        console.log("resposta que ta vindo da segunda chamada a api", respostaUsuario)
                        localStorage.setItem("idUsuario", respostaUsuario)
                        // var idUsuario = localStorage.getItem(idUsuario);
                    })
                    .catch((erro) => {
                        console.log("deu erro: ", erro)
                    })
                 -->